{"version":3,"sources":["components/ContactForm/ContactForm.module.css","components/Filter/Filter.module.css","redux/phonebook/phonebook-actions.js","redux/phonebook/phonebook-filter-reducer.js","redux/phonebook/phonebook-operations.js","redux/phonebook/phonebook-reduser.js","redux/store.js","redux/phonebook/phonebook-selectors.js","components/ContactForm/ContactForm.jsx","components/Filter/Filter.jsx","components/ContactList/ContactList.jsx","App.js","index.js","components/ContactList/ContactList.module.css"],"names":["module","exports","changeFilter","createAction","filterReducer","createReducer","_","action","payload","axios","defaults","baseURL","fetchContacts","createAsyncThunk","a","rejectWithValue","get","data","addContact","contact","post","deleteContact","contactId","delete","id","contactsSlice","createSlice","name","initialState","contactItems","loading","error","extraReducers","fulfilled","state","pending","rejected","filter","store","configureStore","reducer","phoneBook","devTools","process","middleware","getDefaultMiddleware","concat","logger","getContacts","getFilter","getFiltredContacts","createSelector","toLowerCase","includes","ContactForm","useState","setName","number","setNumber","contacts","useSelector","dispatch","useDispatch","handleChange","e","target","value","resetForm","className","s","container","onSubmit","preventDefault","some","element","alert","form","type","pattern","title","required","onChange","button","Filter","currentTarget","ContactList","useEffect","list","map","item","text","onClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.332c5829.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ContactForm_container__3ZBOX\",\"form\":\"ContactForm_form__3fQ4k\",\"title\":\"ContactForm_title__2skh7\",\"list\":\"ContactForm_list__1YyOy\",\"item\":\"ContactForm_item__1zic_\",\"text\":\"ContactForm_text__2Bm0q\",\"number\":\"ContactForm_number__2N4tS\",\"button\":\"ContactForm_button__powjZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Filter_container__10L_W\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');\r\n\r\n","import { changeFilter } from './phonebook-actions';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\nexport const filterReducer = createReducer('', {\r\n  [changeFilter]: (_, action) => action.payload,\r\n});","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://619fab1a1ac52a0017ba49da.mockapi.io/contacts';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.get('/contacts');\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const addContact = createAsyncThunk(\r\n  'contacts/addContact',\r\n  async (contact, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/contacts', contact);\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (contactId, { rejectWithValue }) => {\r\n    try {\r\n      const {\r\n        data: { id },\r\n      } = await axios.delete(`/contacts/${contactId}`);\r\n\r\n      return id;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);","import { createSlice } from '@reduxjs/toolkit';\r\n\r\n\r\nimport { fetchContacts, addContact, deleteContact } from './phonebook-operations';\r\n\r\nconst contactsSlice = createSlice({\r\n  name: 'contacts',\r\n  initialState: { contactItems: [], loading: false, error: null },\r\n  extraReducers: {\r\n    [fetchContacts.fulfilled]: (state, action) => ({\r\n      ...state,\r\n      contactItems: action.payload,\r\n      loading: false,\r\n      error: null,\r\n    }),\r\n    [fetchContacts.pending]: state => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null,\r\n    }),\r\n    [fetchContacts.rejected]: (state, action) => ({\r\n      ...state,\r\n      loading: false,\r\n      error: action.payload,\r\n    }),\r\n\r\n    [addContact.fulfilled]: (state, action) => ({\r\n      ...state,\r\n      contactItems: [...state.contactItems, action.payload],\r\n      loading: false,\r\n      error: null,\r\n    }),\r\n    [addContact.pending]: state => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null,\r\n    }),\r\n    [addContact.rejected]: (state, action) => ({\r\n      ...state,\r\n      loading: false,\r\n      error: action.payload,\r\n    }),\r\n\r\n    [deleteContact.fulfilled]: (state, action) => ({\r\n      ...state,\r\n      contactItems: state.contactItems.filter(\r\n        ({ id }) => id !== action.payload,\r\n      ),\r\n      loading: false,\r\n      error: null,\r\n    }),\r\n    [deleteContact.pending]: state => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null,\r\n    }),\r\n    [deleteContact.rejected]: (state, action) => ({\r\n      ...state,\r\n      loading: false,\r\n      error: action.payload,\r\n    }),\r\n  },\r\n});\r\n\r\nexport default contactsSlice.reducer;","import { configureStore } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\n\r\nimport { filterReducer } from './phonebook/phonebook-filter-reducer';\r\nimport contactsSlice  from './phonebook/phonebook-reduser';\r\n\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    phoneBook: contactsSlice,\r\n    filter: filterReducer,\r\n  },\r\n  devTools: process.env.NODE_ENV === 'development',\r\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(logger),\r\n});\r\n\r\n\r\nexport default store;","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nexport const getContacts = state => state.phoneBook.contactItems;\r\nexport const getFilter = state => state.filter;\r\n\r\nexport const getFiltredContacts = createSelector(\r\n  [getContacts, getFilter],\r\n  (contactItems, filter) =>\r\n    contactItems.filter(({ name }) =>\r\n      name.toLowerCase().includes(filter.toLowerCase()),\r\n    ),\r\n);","import { useState } from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getContacts } from '../../redux/phonebook/phonebook-selectors';\nimport  { addContact } from '../../redux/phonebook/phonebook-operations';\n\nimport s from './ContactForm.module.css';\n\nfunction ContactForm() {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const contacts = useSelector(getContacts);\n  const dispatch = useDispatch();\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n      case 'number':\n        setNumber(value);\n        break;\n      default:\n        return;\n    }\n  };\n\n  const handleSubmint = e => {\n    e.preventDefault();\n    const comparableElement = contacts.some(\n      element => element.name.toLowerCase() === name.toLowerCase(),\n    );\n    if (comparableElement) {\n      resetForm();\n      return alert(`${name} is already in the directory`);\n    }\n    dispatch(addContact({ name, number }));\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setName('');\n    setNumber('');\n  };\n\n\n  return (\n    <div className={s.container}>\n      <form onSubmit={handleSubmint} className={s.form}>\n        <h3>Name</h3>\n        <label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n            required\n            onChange={handleChange}\n          />\n        </label>\n        <h3>Number</h3>\n        <label>\n          <input\n            type=\"tel\"\n            name=\"number\"\n            value={number}\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n            required\n            onChange={handleChange}\n          />\n        </label>\n        <button type=\"submit\" className={s.button}>\n          Add contact\n        </button>\n      </form>\n    </div>\n  );\n}\n\n\n\nexport default ContactForm;\n","import { useSelector, useDispatch } from 'react-redux';\nimport { getFilter } from '../../redux/phonebook/phonebook-selectors';\nimport { changeFilter } from '../../redux/phonebook/phonebook-actions';\n\nimport PropTypes from 'prop-types';\nimport s from './Filter.module.css';\n\nconst Filter = () => {\n  const filter = useSelector(getFilter);\n  const dispatch = useDispatch();\n  const onChange = e => {\n    dispatch(changeFilter(e.currentTarget.value));\n  };\n  return (\n    <div className={s.container}>\n      <h3>Finde contacts by name</h3>\n      <label>\n        <input\n          type=\"text\"\n          name=\"filter\"\n          value={filter}\n          onChange={onChange} />\n      </label>\n    </div>\n  );\n};\n\nFilter.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n};\n\nexport default Filter;\n","import { useSelector, useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { getFiltredContacts } from '../../redux/phonebook/phonebook-selectors';\nimport { deleteContact, fetchContacts } from '../../redux/phonebook/phonebook-operations';\n\nimport s from './ContactList.module.css';\n\nconst ContactList = () => {\n  const contacts = useSelector(getFiltredContacts);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n  return (\n    <div className={s.container}>\n      <ul className={s.list}>\n        {contacts.map(({ id, name, number }) => (\n          <li key={id} className={s.item}>\n            <p className={s.text}>\n              {name}:<span className={s.number}>{number}</span>\n            </p>\n            <button\n              type=\"button\"\n              className={s.button}\n              onClick={() => dispatch(deleteContact(id))}\n            >\n              delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n};\n  \nexport default ContactList;\n","import ContactForm from './components/ContactForm/ContactForm';\nimport Filter from './components/Filter/Filter';\nimport ContactList from './components/ContactList/ContactList';\n\n\n\nfunction App() {\n  \n  return (\n    <>\n      <h1>Phonebook</h1>\n      <ContactForm />\n      <Filter />\n      <h2 >Contacts</h2>\n      <ContactList />\n    </>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { store} from './redux/store';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ContactList_container__kTU8O\",\"title\":\"ContactList_title__1-7Bo\",\"list\":\"ContactList_list__272Xf\",\"item\":\"ContactList_item__1ArtY\",\"text\":\"ContactList_text__2g6ko\",\"number\":\"ContactList_number__2xjww\",\"button\":\"ContactList_button__1pIC_\"};"],"sourceRoot":""}